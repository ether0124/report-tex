
\documentclass {ujarticle}
\usepackage[top=30truemm,bottom=30truemm,left=25truemm,right=25truemm]{geometry}

\title {組み込み制御技術の基礎}
\author{non name}
\date {2018年10月22日}
\begin {document}
\maketitle
\newpage

\section{目的}
炊飯器，テレビなどの身の回りの電子機器は，マイコン（マイクロ・コントローラー）を搭載し，特定の機能を実現させるためのプログラムが実装された「組み込みシステム」である．本実験では，Renesas 社製 RX63N シリーズ MCU（32bit)）というマイコンを搭載した GR-SAKURA ボードを用い，制御プログラムの開発を通して，組み込み制御技術の基礎について理解する．

 \section{原理}
 GR-SAKURA ボードは，付録１に示す豊富な機能を内蔵している．また，C言語を用いたプログラムの作成には，クラウドを利用した開発環境（webコンパイラ）が提供されていることから，web 接続が可能な端末さえあればプログラミングが可能となっている．
 
 GR-SAKURA ボードには，豊富な入出力端子が用意されているが，今回の実験では，デジタル出力，デジタル入力，および，アナログ入力の利用方法について学ぶ．デジタル出力については，光として視覚に訴える発光ダイオードと，音として聴覚に訴える圧電ブザーを，デジタル入力についてはプッシュスイッチを，アナログ入力には受光面の明るさに応じて抵抗値が変化する CdS を接続し，プログラムからこれらにアクセス／制御する．
 
 GR-SAKURA ボードには，USB ケーブルを介して 5V が給電されているが，今回のセッティングでは外部接続用の入出力コネクタの動作レベルは 3.3V となるため，発光ダイオードには 100Ω の保護抵抗を，CdS には 10kΩ の分圧抵抗を設ける．
 
 \section{実験方法}
 \subsection{使用器具}
 本実験では以下の器具を使用した．
 \begin{enumerate}
 \item GR-SAKURA(No.8)
 \item PC(IEM-108)
 \item テスター
 \item パーツセット(No.8)「LED ８個，100Ω抵抗 ８個，10kΩ抵抗 １個，圧電ブザー，CdS，CdSカバー，ジャンパー線，ブレッドボード，mini-USB ケーブル」
 \end{enumerate}
 
 \subsection{制御対象となる外部接続回路の作成}
 前述の素子を用いた制御対象となる回路を図１に示す．GR-SAKURA を図２に示す．GR-SAKURA ボードの外部接続用の入出力コネクタには限りがあるため，制御対象となる回路はブレッドボード上に作成し，ジャンパー線を用いて GR-SAKURA ボードの各ポートと接続する．このとき，GR-SAKURA ボード上のプッシュスイッチへ容易にアクセスできるように，ジャンパー線の長さや取り回しを工夫すること．なお，プッシュスイッチについては，GR-SAKURA ボード上に実装されている青色のスイッチを流用する．
 
 \subsection{web コンパイラへのログインとサンプルの動作確認}
 外部接続回路の準備ができたら，パソコンを用意して web ブラウザを起動し，Renesas 社が提供する「がじぇっとるねさす」サイト http://gadget.renesas.com/ja/ を表示し，画面の上部中央に用意された「ゲストログイン」を選択する．　
 
 web コンパイラの利用上の注意事項，および，ゲストログインに関する注意事項について同意もしくは承諾すると，テンプレート選択が促されるので，今回のターゲットである※「 GR-SAKURA\_Sketch V2.20.zip」を選択し，適切なプロジェクト名を付与してプロジェクトを作成する．\\※第１，２回目実験時はV1.08を使用していたが削除されてしまったため第3回目実験時のみV2.20を使用した．また，テンプレートとして，GR-KURUMI や GR-KAEDE は使用しないこと．
 
 前項の操作により，GR-SAKURA の開発環境である Renesas Web Compiler が表示されるので，左側のプロジェクトイベントに表示されている「gr\_sketch.cpp」をダブルクリックしてソースコードを表示し，その内容を確認する．
 
 続いて，ウィンドウ右部のメニューペインから「ビルド実行」を選択してコンパイルおよびリンクを行う．なお，プログラムを修正した場合など，必要に応じて，ビルド実行の前に「保存」を選択すると，クライアントとサーバーのソースコードを強制的に同期させることができる．
 
 ビルドに成功すると，左側のプロジェクトペインにバイナリモジュール「sketch.bin」が作成・更新されているので，これをマウスの左ボタンでクリックして表示されるメニューから「ダウンロード」を選択して，自分のパソコンにダウンロードする．このとき，ダウンロードしバイナリモジュールの保存先（フォルダ）をしっかりと記憶すること．
 
 パソコンと GR-SAKURA ボードを USB ケーブルで接続し，マイコンピュータを開いて GR-SAKURA ボードがリムーバルメディアとして認識されていない場合，GR-SAKURA ボードの赤いプッシュスイッチを押して，動作状態を初期化すると復旧（認識）される．
 
 リムーバルメディアとして認識された GR-SAKURA ボードのトップフォルダ（ルートフォルダ）に，先ほどダウンロードしたバイナリモジュール（ sketch.bin ）を転送すると，GR-SAKURA ボードが自動的にプログラム実行モードで再起動するので，プログラムが正しく動作していることを確認する．
 \section{実験結果}
 
 \section{課題}
 
 \section{考察}
 
 \section{引用文献}
 
 
\end{document}
